QEMU command line arguments:
-machine sbsa-ref
-m 4096
-smp 2
-cpu cortex-a57
-drive if=pflash,file=firmware/SBSA_FLASH0.fd,format=raw
-drive if=pflash,file=firmware/SBSA_FLASH1.fd,format=raw
-drive file=fat:rw:/home/marcin/devel/linaro/sbsa-qemu/sbsa-ref-status/disks/virtual/,format=raw
-usb
-device usb-kbd
-device usb-tablet
-nographic
-watchdog-action none
-no-reboot
-monitor telnet::45454,server,nowait
-serial stdio
-device pcie-root-port,id=root_port_for_switch1,chassis=1,slot=12
-device x3130-upstream,id=upstream_port1,bus=root_port_for_switch1
-device xio3130-downstream,id=downstream_port1,bus=upstream_port1,chassis=1,slot=20
-device ac97,bus=downstream_port1
-device pcie-root-port,id=root_port_for_nvme1,chassis=1,slot=1
-device nvme,serial=deadbeef,bus=root_port_for_nvme1
-device pcie-root-port,id=root_port_for_igb,chassis=1,slot=2
-device igb,bus=root_port_for_igb
-device pcie-root-port,id=root_port_for_xhci,chassis=1,slot=3
-device qemu-xhci,bus=root_port_for_xhci
-device pcie-root-port,id=root_port_for_ac97,chassis=1,slot=97
-device ac97,bus=root_port_for_ac97
-device pcie-root-port,id=root_port_for_pci,chassis=1
-device pcie-pci-bridge,id=pci,bus=root_port_for_pci
-device virtio-rng-pci,bus=pci,addr=8

EFI startup script:
mode 100 31
pci
fs0:armcpuinfo.efi
reset -c

NOTICE:  Booting Trusted Firmware
NOTICE:  BL1: v2.10.0(release):hrw-2024-02-28-1054-dirty
NOTICE:  BL1: Built : 11:39:00, Feb 28 2024
NOTICE:  BL1: Booting BL2
NOTICE:  BL2: v2.10.0(release):hrw-2024-02-28-1054-dirty
NOTICE:  BL2: Built : 11:39:00, Feb 28 2024
NOTICE:  BL1: Booting BL31
NOTICE:  BL31: v2.10.0(release):hrw-2024-02-28-1054-dirty
NOTICE:  BL31: Built : 11:39:00, Feb 28 2024
UEFI firmware (version 1.0 built at 13:55:51 on Feb 21 2024)
[2J[04D[=3h[2J[09D[2J[04DUEFI Interactive Shell v2.2
EDK II
UEFI v2.70 (EFI Development Kit II / SbsaQemu, 0x00010000)
[1m[33m[40mMapping table[0m[37m[40m
[1m[33m[40m      FS0:[0m[37m[40m [1m[37m[40mAlias(s):[0m[37m[40mHD0a65535a1:;BLK1:
          VenHw(0D51905B-B77E-452A-A2C0-ECA0CC8D514A,000010600000000000)/Sata(0x
0,0xFFFF,0x0)/HD(1,MBR,0xBE1AFDFA,0x3F,0xFBFC1)
[1m[33m[40m     BLK0:[0m[37m[40m [1m[37m[40mAlias(s):[0m[37m[40m
          VenHw(0D51905B-B77E-452A-A2C0-ECA0CC8D514A,000010600000000000)/Sata(0x
0,0xFFFF,0x0)
Press [1m[37m[40mESC[0m[37m[40m in 5 seconds to skip [1m[33m[40mstartup.nsh[0m[37m[40m or any other key to continue.[72DPress [1m[37m[40mESC[0m[37m[40m in 4 seconds to skip [1m[33m[40mstartup.nsh[0m[37m[40m or any other key to continue.[72DPress [1m[37m[40mESC[0m[37m[40m in 3 seconds to skip [1m[33m[40mstartup.nsh[0m[37m[40m or any other key to continue.[72DPress [1m[37m[40mESC[0m[37m[40m in 2 seconds to skip [1m[33m[40mstartup.nsh[0m[37m[40m or any other key to continue.[72DPress [1m[37m[40mESC[0m[37m[40m in 1 seconds to skip [1m[33m[40mstartup.nsh[0m[37m[40m or any other key to continue.
[1m[33m[40mShell> [0m[37m[40mmode 100 31
[2J[01;01H[=3h[2J[09D[2J[04D[1m[33m[40mShell> [0m[37m[40mpci
   Seg  Bus  Dev  Func
   ---  ---  ---  ----
    [1m[33m[40m00   00   00    00 ==> [0m[37m[40mBridge Device - Host/PCI bridge
             Vendor 1B36 Device 0008 Prog Interface 0
    [1m[33m[40m00   00   01    00 ==> [0m[37m[40mNetwork Controller - Ethernet controller
             Vendor 8086 Device 10D3 Prog Interface 0
    [1m[33m[40m00   00   02    00 ==> [0m[37m[40mDisplay Controller - Other display controller
             Vendor 1234 Device 1111 Prog Interface 0
    [1m[33m[40m00   00   03    00 ==> [0m[37m[40mBridge Device - PCI/PCI bridge
             Vendor 1B36 Device 000C Prog Interface 0
    [1m[33m[40m00   00   04    00 ==> [0m[37m[40mBridge Device - PCI/PCI bridge
             Vendor 1B36 Device 000C Prog Interface 0
    [1m[33m[40m00   00   05    00 ==> [0m[37m[40mBridge Device - PCI/PCI bridge
             Vendor 1B36 Device 000C Prog Interface 0
    [1m[33m[40m00   00   06    00 ==> [0m[37m[40mBridge Device - PCI/PCI bridge
             Vendor 1B36 Device 000C Prog Interface 0
    [1m[33m[40m00   00   07    00 ==> [0m[37m[40mBridge Device - PCI/PCI bridge
             Vendor 1B36 Device 000C Prog Interface 0
    [1m[33m[40m00   00   08    00 ==> [0m[37m[40mBridge Device - PCI/PCI bridge
             Vendor 1B36 Device 000C Prog Interface 0
    [1m[33m[40m00   01   00    00 ==> [0m[37m[40mBridge Device - PCI/PCI bridge
             Vendor 104C Device 8232 Prog Interface 0
    [1m[33m[40m00   02   00    00 ==> [0m[37m[40mBridge Device - PCI/PCI bridge
             Vendor 104C Device 8233 Prog Interface 0
    [1m[33m[40m00   03   00    00 ==> [0m[37m[40mMultimedia Device - Audio device
             Vendor 8086 Device 2415 Prog Interface 0
    [1m[33m[40m00   04   00    00 ==> [0m[37m[40mMass Storage Controller - Non-volatile memory subsystem
             Vendor 1B36 Device 0010 Prog Interface 2
    [1m[33m[40m00   05   00    00 ==> [0m[37m[40mNetwork Controller - Ethernet controller
             Vendor 8086 Device 10C9 Prog Interface 0
    [1m[33m[40m00   06   00    00 ==> [0m[37m[40mSerial Bus Controllers - USB
             Vendor 1B36 Device 000D Prog Interface 30
    [1m[33m[40m00   07   00    00 ==> [0m[37m[40mMultimedia Device - Audio device
             Vendor 8086 Device 2415 Prog Interface 0
    [1m[33m[40m00   08   00    00 ==> [0m[37m[40mBridge Device - PCI/PCI bridge
             Vendor 1B36 Device 000E Prog Interface 0
    [1m[33m[40m00   09   08    00 ==> [0m[37m[40mPre 2.0 device - UNDEFINED
             Vendor 1AF4 Device 1005 Prog Interface 0
[1m[33m[40mShell> [0m[37m[40mfs0:armcpuinfo.efi
ArmCpuInfo v1.2.0

ID_AA64MMFR0_EL1 = 0x0000000000001124
ID_AA64MMFR1_EL1 = 0x0000000000000000
ID_AA64MMFR2_EL1 = 0x0000000000000000
ID_AA64PFR0_EL1  = 0x0000000001002222
ID_AA64PFR1_EL1  = 0x0000000000000000
ID_AA64ISAR0_EL1 = 0x0000000000011120
ID_AA64ISAR1_EL1 = 0x0000000000000000
ID_AA64ISAR2_EL1 = 0x0000000000000000
ID_AA64DFR0_EL1  = 0x0000000010305106
ID_AA64SMFR0_EL1 = 0x0000000000000000
ID_AA64ZFR0_EL1  = 0x0000000000000000

Reg   | Name         |  Bits | Value | Feature
------|--------------|-------|-------|----------------------------------------------
MMFR0 | ECV          | 63:60 |  0000 | FEAT_ECV not implemented.
MMFR0 | FGT          | 59:56 |  0000 | FEAT_FGT not implemented.
MMFR0 | ExS          | 47:44 |  0000 | FEAT_ExS not implemented.
MMFR0 | TGran4       | 31:28 |  0000 |  4KB granule supported.
MMFR0 | TGran4_2     | 43:40 |  0000 |  4KB granule support at stage2 as above.
MMFR0 | TGran16      | 23:20 |  0000 | 16KB granule not supported.
MMFR0 | TGran16_2    | 35:32 |  0000 | 16KB granule support at stage2 as above.
MMFR0 | TGran64      | 27:24 |  0000 | 64KB granule supported.
MMFR0 | TGran64_2    | 39:36 |  0000 | 64KB granule support at stage2 as above.
MMFR0 | SNSMem       | 15:12 |  0001 | Supports a distinction between Secure and Non-Secure Memory.
MMFR0 | BigEnd       | 11:8  |  0001 | Mixed-endian support.
MMFR0 | BigEndEL0    | 19:16 |  0000 | No mixed-endian support at EL0.
MMFR0 | ASIDBits     |  7:4  |  0010 | ASID: 16 Bits
MMFR0 | PARange      |  3:0  |  0100 | 44 Bits (16TB) of physical address range supported.
------|--------------|-------|-------|----------------------------------------------
PFR0  | CSV3         | 63:60 |  0000 | FEAT_CSV3 not implemented.
PFR0  | CSV2         | 59:56 |  0000 | Not disclosed whether FEAT_CSV2 is implemented.
PFR0  | RME          | 55:52 |  0000 | FEAT_RME not implemented
PFR0  | DIT          | 51:48 |  0000 | FEAT_DIT not implemented.
PFR0  | AMU          | 47:44 |  0000 | FEAT_AMU not implemented.
PFR0  | MPAM         | 43:40 |  0000 | FEAT_MPAM not implemented.
PFR0  | SEL2         | 39:36 |  0000 | Secure EL2 not implemented.
PFR0  | SVE          | 35:32 |  0000 | FEAT_SVE not implemented.
PFR0  | RAS          | 31:28 |  0000 | FEAT_RAS not implemented.
PFR0  | GIC          | 27:24 |  0001 | System registers to versions 3.0/4.0 of GIC CPU implemented.
PFR0  | AdvSIMD      | 23:20 |  0000 | Advanced SIMD implemented.
PFR0  | FP           | 19:16 |  0000 | Floating-point implemented.
PFR0  | EL3          | 15:12 |  0010 | EL3 in AArch64 and AArch32
PFR0  | EL2          | 11:8  |  0010 | EL2 in AArch64 and AArch32
PFR0  | EL1          |  7:4  |  0010 | EL1 in AArch64 and AArch32
PFR0  | EL0          |  3:0  |  0010 | EL0 in AArch64 and AArch32
------|--------------|-------|-------|----------------------------------------------
ISAR0 | RNDR         | 63:60 |  0000 | FEAT_RNG not implemented.
ISAR0 | TLB          | 59:56 |  0000 | FEAT_TLBIOS/FEAT_TLBIRANGE not implemented.
ISAR0 | TS           | 55:52 |  0000 | FEAT_FlagM/FEAT_FlagM2 not implemented.
ISAR0 | FHM          | 51:48 |  0000 | FEAT_FHM not implemented.
ISAR0 | DP           | 47:44 |  0000 | FEAT_DotProd not implemented.
ISAR0 | SM4          | 43:40 |  0000 | FEAT_SM4 not implemented.
ISAR0 | SM3          | 39:36 |  0000 | FEAT_SM3 not implemented.
ISAR0 | SHA3         | 35:32 |  0000 | FEAT_SHA3 not implemented.
ISAR0 | RDM          | 31:28 |  0000 | FEAT_RDM not implemented.
ISAR0 | TME          | 27:24 |  0000 | TME instructions not implemented.
ISAR0 | Atomic       | 23:20 |  0000 | FEAT_LSE not implemented.
ISAR0 | CRC32        | 19:16 |  0001 | CRC32 instructions implemented.
ISAR0 | SHA2         | 15:12 |  0001 | FEAT_SHA256 implemented.
ISAR0 | SHA1         | 11:8  |  0001 | FEAT_SHA1 implemented.
ISAR0 | AES          |  7:4  |  0010 | FEAT_AES and FEAT_PMULL implemented.
------|--------------|-------|-------|----------------------------------------------
DFR0  | HPMN0        | 63:60 |  0000 | Setting MDCR_EL2.HPMN to zero has CONSTRAINED 
      |              |       |       | UNPREDICTABLE behavior.
DFR0  | ExtTrcBuff   | 59:56 |  0000 | Trace Buffer External Mode not implemented.
DFR0  | BRBE         | 55:52 |  0000 | FEAT_BRBE not implemented.
DFR0  | MTPMU        | 51:48 |  0000 | FEAT_MTPMU not implemented.
DFR0  | TraceBuffer  | 47:44 |  0000 | FEAT_TRBE not implemented.
DFR0  | TraceFilt    | 43:40 |  0000 | FEAT_TRF not implemented.
DFR0  | DoubleLock   | 39:36 |  0000 | FEAT_DoubleLock implemented.
DFR0  | PMSVer       | 35:32 |  0000 | FEAT_SPE not implemented.
DFR0  | CTX_CMPs     | 31:28 |  0001 | Number of breakpoints that are context-aware, minus 1.
DFR0  | SEBEP        | 27:24 |  0000 | FEAT_SEBEP not implemented.
DFR0  | WRPs         | 23:20 |  0011 | Number of watchpoints, minus 1.
DFR0  | PMSS         | 19:16 |  0000 | FEAT_PMUv2_SS not implemented.
DFR0  | BRPs         | 15:12 |  0101 | Number of breakpoints, minus 1.
DFR0  | PMUVer       | 11:8  |  0001 | FEAT_PMUv3 implemented.
DFR0  | TraceVer     |  7:4  |  0000 | Trace unit System registers not implemented.
DFR0  | DebugVer     |  3:0  |  0110 | Armv8 debug architecture
------|--------------|-------|-------|----------------------------------------------
[1m[33m[40mShell> [0m[37m[40mreset -c
